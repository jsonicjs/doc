!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JsonicDoc=e()}}((function(){var e={exports:{}};(function(t){(function(){!function(n){"object"==typeof e.exports?e.exports=n():("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).Gubu=n()}((function(){var e={},t={};Object.defineProperty(t,"__esModule",{value:!0}),t.Gubu=void 0;const n=Symbol.for("gubu$"),l={gubu$:n,v$:"4.0.0"},r=Symbol.for("gubu$nil"),o=/^[A-Z]/,i="",u="name",s="never",a="number",f="required",p="array",c="function",h="object",d="string",v="undefined",y="any",b="list",m="instance",g="null",$="type",I="Object",x="Above",G="Below",k="Some",w="Value",V=" for property ",S='"$PATH"',A='"$VALUE"',N=e=>Object.keys(e),O=(e,t,n)=>Object.defineProperty(e,t,n),R=e=>Array.isArray(e),D=e=>JSON.parse(e),j=(e,t)=>JSON.stringify(e,t);class C{constructor(e,t,n,l){this.match=!1,this.dI=0,this.nI=2,this.cI=-1,this.pI=0,this.sI=-1,this.valType=s,this.isRoot=!1,this.key=i,this.type=s,this.stop=!0,this.nextSibling=!0,this.fromDefault=!1,this.ignoreVal=void 0,this.err=[],this.parents=[],this.keys=[],this.path=[],this.root=e,this.vals=[e,-1],this.node=t,this.nodes=[t,-1],this.ctx=n||{},this.match=!!l}next(){this.stop=!1,this.fromDefault=!1,this.ignoreVal=void 0,this.isRoot=0===this.pI;let e=this.nodes[this.pI];for(;+e;)this.pI=+e,e=this.nodes[this.pI],this.dI--;e?(this.node=e,this.updateVal(this.vals[this.pI]),this.key=this.keys[this.pI],this.cI=this.pI,this.sI=this.pI+1,this.parent=this.parents[this.pI],this.nextSibling=!0,this.type=this.node.t,this.path[this.dI]=this.key,this.oval=this.val):this.stop=!0}updateVal(e){this.val=e,this.valType=typeof this.val,a===this.valType&&isNaN(this.val)&&(this.valType="nan"),this.isRoot&&!this.match&&(this.root=this.val)}}class E extends TypeError{constructor(e,t,n){super(t.map(e=>e.t).join("\n")),this.gubu=!0,this.name="GubuError",this.code=e,this.desc=()=>({name:"GubuError",code:e,err:t,ctx:n})}toJSON(){return{...this,err:this.desc().err,name:this.name,message:this.message}}}const M={String:!0,Number:!0,Boolean:!0,Object:!0,Array:!0,Function:!0,Symbol:!0,BigInt:!0},L={string:i,number:0,boolean:!1,object:{},array:[],symbol:Symbol(i),bigint:BigInt(0),null:null};function T(e,t){var u,s,f,b;if(P===e)e=void 0;else if(null!=e&&(null===(u=e.$)||void 0===u?void 0:u.gubu$)){if(n===e.$.gubu$)return e.d=null==t?e.d:t,e;if(!0===e.$.gubu$){let l={...e};return l.$={v$:"4.0.0",...l.$,gubu$:n},l.v=null!=l.v&&h===typeof l.v?{...l.v}:l.v,l.t=l.t||typeof l.v,c===l.t&&M[l.v.name]&&(l.t=l.v.name.toLowerCase(),l.v=Ge(L[l.t]),l.f=l.v),l.r=!!l.r,l.p=!!l.p,l.d=null==t?null==l.d?-1:l.d:t,l.b=l.b||[],l.a=l.a||[],l.u=l.u||{},l}}let $=null===e?g:typeof e;$=v===$?y:$;let x=e,G=x,k=r,w=!1,V={},S=[],A=[];if(h===$)G=void 0,R(x)?($=p,1===x.length&&(k=x[0],x=[])):null!=x&&Function!==x.constructor&&Object!==x.constructor&&null!=x.constructor?($=m,V.n=x.constructor.name,V.i=x.constructor,G=x):0===N(x).length&&(k=W());else if(c===$)if(M[e.name])$=e.name.toLowerCase(),w=!0,G=x=Ge(L[$]),I===e.name&&(k=W());else if(x.gubu===l||!0===(null===(s=x.$)||void 0===s?void 0:s.gubu)){let e=x.node?x.node():x;$=e.t,G=x=e.v,w=e.r,V={...e.u},S=[...e.a],A=[...e.b]}else"Function"===x.constructor.name&&o.test(x.name)&&($=m,w=!0,V.n=null===(b=null===(f=x.prototype)||void 0===f?void 0:f.constructor)||void 0===b?void 0:b.name,V.i=x);else a===$&&isNaN(x)?$="nan":d===$&&i===x&&(V.empty=!0);let O=null==x||h!==$&&p!==$?x:{...x};return{$:l,t:$,v:O,f:G,n:null!=O&&h===typeof O?N(O).length:0,c:k,r:w,p:!1,d:null==t?-1:t,u:V,a:S,b:A}}function P(t,o){const u=null==o?{}:o;u.name=null==u.name?"G"+(i+Math.random()).substring(2,8):i+u.name;let a=T(t,0);function c(e,t,n){let l=new C(e,a,t,n);for(;l.next(),!l.stop;){let e=l.node,t=!1;if(0<e.b.length)for(let r=0;r<e.b.length;r++){let n=B(e.b[r],l);e=l.node,void 0!==n.done&&(t=n.done)}if(!t){let t=!0,n=void 0===l.val;if(s===l.type)l.err.push($e(s,l,1070));else if(h===l.type){let o;if(e.r&&n?(l.ignoreVal=!0,l.err.push($e(f,l,1010))):n||null!==l.val&&h===l.valType&&!R(l.val)?!e.p&&n&&void 0!==e.f?(l.updateVal(e.f),l.fromDefault=!0,o=l.val,t=!1):e.p&&n||(l.updateVal(l.val||(l.fromDefault=!0,{})),o=l.val):(l.err.push($e($,l,1020)),o=R(l.val)?l.val:{}),t&&null!=(o=null==o&&!1===l.ctx.err?{}:o)){let t=!1,n=N(e.v),i=l.nI;if(0<n.length){t=!0,l.pI=i;for(let t of n){let n=e.v[t]=T(e.v[t],1+l.dI);l.nodes[l.nI]=n,l.vals[l.nI]=o[t],l.parents[l.nI]=o,l.keys[l.nI]=t,l.nI++}}let u=N(o).filter(t=>void 0===e.v[t]);if(0<u.length)if(r===e.c)l.ignoreVal=!0,l.err.push($e("closed",l,1100,void 0,{k:u}));else{t=!0,l.pI=i;for(let t of u){let n=e.c=T(e.c,1+l.dI);l.nodes[l.nI]=n,l.vals[l.nI]=o[t],l.parents[l.nI]=o,l.keys[l.nI]=t,l.nI++}}t&&(l.dI++,l.nodes[l.nI++]=l.sI,l.nextSibling=!1)}}else if(p===l.type)if(e.r&&n)l.ignoreVal=!0,l.err.push($e(f,l,1030));else if(n||R(l.val)){if(!e.p&&n&&void 0!==e.f)l.updateVal(e.f),l.fromDefault=!0;else if(!e.p||null!=l.val){l.updateVal(l.val||(l.fromDefault=!0,[]));let t=0<l.val.length,n=r!==e.c,o=N(e.v).filter(e=>!isNaN(+e)),u=0<o.length;if(t||u){l.pI=l.nI;let r=0;if(u)if(o.length<l.val.length&&!n)l.ignoreVal=!0,l.err.push($e("closed",l,1090,void 0,{k:o.length}));else for(;r<o.length;r++){let t=e.v[r]=T(e.v[r],1+l.dI);l.nodes[l.nI]=t,l.vals[l.nI]=l.val[r],l.parents[l.nI]=l.val,l.keys[l.nI]=i+r,l.nI++}if(n&&t){let t=e.c=T(e.c,1+l.dI);for(;r<l.val.length;r++)l.nodes[l.nI]=t,l.vals[l.nI]=l.val[r],l.parents[l.nI]=l.val,l.keys[l.nI]=i+r,l.nI++}l.ignoreVal||(l.dI++,l.nodes[l.nI++]=l.sI,l.nextSibling=!1)}}}else l.err.push($e($,l,1040));else if(y===l.type||b===l.type||void 0===l.val||l.type===l.valType||m===l.type&&e.u.i&&l.val instanceof e.u.i||g===l.type&&null===l.val)if(void 0===l.val){let t=l.path[l.dI];!e.r||v===l.type&&l.parent.hasOwnProperty(t)?void 0!==e.f&&!e.p||v===l.type?(l.updateVal(e.f),l.fromDefault=!0):y===l.type&&(l.ignoreVal=void 0===l.ignoreVal||l.ignoreVal):(l.ignoreVal=!0,l.err.push($e(f,l,1060)))}else d!==l.type||i!==l.val||e.u.empty||l.err.push($e(f,l,1080));else l.err.push($e($,l,1050))}if(0<e.a.length)for(let r=0;r<e.a.length;r++){let n=B(e.a[r],l);e=l.node,void 0!==n.done&&(t=n.done)}let n=l.node.p?!1!==l.ignoreVal:!!l.ignoreVal;!l.match&&null!=l.parent&&!t&&!n&&(l.parent[l.key]=l.val),l.nextSibling&&(l.pI=l.sI)}if(0<l.err.length)if(R(l.ctx.err))l.ctx.err.push(...l.err);else if(!l.match&&!1!==l.ctx.err)throw new E("shape",l.err,l.ctx);return l.match?0===l.err.length:l.root}function I(e,t){return c(e,t,!1)}I.valid=function(e,t){let n=t||{};return n.err=n.err||[],c(e,n,!1),0===n.err.length},I.match=(e,t)=>c(e,t=t||{},!0),I.error=(e,t)=>{let n=t||{};return n.err=n.err||[],c(e,n,!1),n.err},I.spec=()=>(I(void 0,{err:!1}),D(xe(a,(e,t)=>n===t||t,!1,!0))),I.node=()=>(I.spec(),a);let x=i;return I.toString=()=>(x=fe(i===x?xe(a&&a.$&&(n===a.$.gubu$||!0===a.$.gubu$)?a.v:a):x),`[Gubu ${u.name} ${x}]`),e.inspect&&e.inspect.custom&&(I[e.inspect.custom]=I.toString),I.gubu=l,I}function B(e,t){var n;let l,r={},o=!1;try{o=!(void 0!==t.val||null===(n=e.gubu$)||void 0===n||!n.Check)||e(t.val,r,t)}catch(u){l=u}let s=R(r.err)?0<r.err.length:null!=r.err;if(!o||s){if(void 0===t.val&&(t.node.p||!t.node.r)&&!0!==r.done)return delete r.err,r;let n=r.why||"check",o=U(t);if(d===typeof r.err)t.err.push(ge(t,r.err));else if(h===typeof r.err)t.err.push(...[r.err].flat().map(e=>(e.p=null==e.p?o:e.p,e.m=null==e.m?2010:e.m,e)));else{let r=e.name;null!=r&&i!=r||(r=fe(e.toString().replace(/[ \t\r\n]+/g," "))),t.err.push($e(n,t,1045,void 0,{thrown:l},r))}r.done=null==r.done||r.done}return r.hasOwnProperty("uval")?(t.updateVal(r.uval),t.ignoreVal=!1):void 0===r.val||Number.isNaN(r.val)||(t.updateVal(r.val),t.ignoreVal=!1),void 0!==r.node&&(t.node=r.node),void 0!==r.type&&(t.type=r.type),r}function U(e){return e.path.slice(1,e.dI+1).filter(e=>null!=e).join(".")}const _=function(e){let t=me(this,e);return t.r=!0,t.p=!1,void 0===e&&1===arguments.length&&(t.t=v,t.v=void 0),t},q=function(e){let t=me(this,e);return t.r=!1,void 0===e&&1===arguments.length&&(t.t=v,t.v=void 0),t},H=function(e){let t=me(this,e);return t.r=!1,t.p=!0,t},J=function(e){let t=me(this);return t.t=c,t.v=e,t.f=e,t},F=function(e,t){let n=me(this,void 0===t?e:t);return n.r=!1,n.f=e,c===typeof e&&M[e.name]&&(n.t=e.name.toLowerCase(),n.f=Ge(L[n.t])),n.p=!1,n},K=function(e){let t=me(this,e);return t.u.empty=!0,t},W=function(e){let t=me(this,e);return t.t=y,void 0!==e&&(t.v=e,t.f=e),t},z=function(e){let t=me(this,e);return t.t=s,t},Z=function(e,t){let n=me(this),l="number"==typeof e;n.t=d,l&&null==t&&(n=T([]));let r=null;return"function"==typeof e&&(r=e,n=W()),n.b.push((function(n,o,i){if(r)o.val=r(i.path,i);else if(l){let n=e;o.val=i.path.slice(i.path.length-1-(0<=n?n:0),i.path.length-1+(0<=n?0:1)),"string"==typeof t&&(o.val=o.val.join(t))}else null==e&&(o.val=i.path[i.path.length-2]);return!0})),n},Q=function(...e){let t=me();t.t=b,t.r=!0;let n=e.map(e=>ke(e));return t.u.list=e,t.b.push((function(t,l,r){let o=!0;for(let e of n){let n={...r.ctx,err:[]};e(t,n),0<n.err.length&&(o=!1)}return o||(l.why="All",l.err=[ge(r,w+" "+A+V+S+" does not satisfy all of: "+e.map(e=>xe(e,null,!0)).join(", "))]),o})),t},X=function(...e){let t=me();t.t=b,t.r=!0;let n=e.map(e=>ke(e));return t.u.list=e,t.b.push((function(t,l,r){let o=!1;for(let e of n){let n={...r.ctx,err:[]},i=e.match(t,n);i&&(l.val=e(t,n)),o||(o=i)}return o||(l.why=k,l.err=[ge(r,w+" "+A+V+S+" does not satisfy any of: "+e.map(e=>xe(e,null,!0)).join(", "))]),o})),t},Y=function(...e){let t=me();t.t=b,t.r=!0;let n=e.map(e=>ke(e));return t.u.list=e,t.b.push((function(t,l,r){let o=0;for(let e of n){let n={...r.ctx,err:[]};if(e.match(t,n)){o++,l.val=e(t,n);break}}return 1!==o&&(l.why="One",l.err=[ge(r,w+" "+A+V+S+" does not satisfy one of: "+e.map(e=>xe(e,null,!0)).join(", "))]),!0})),t},ee=function(...e){let t=me();return t.b.push((function(t,n,l){for(let r=0;r<e.length;r++)if(t===e[r])return!0;return n.err=ge(l,w+" "+A+V+S+" must be exactly one of: "+l.node.s+"."),n.done=!0,!1})),t.s=e.map(e=>xe(e,null,!0)).join(", "),t},te=function(e,t){let n=me(this,t);return n.b.push(e),n},ne=function(e,t){let n=me(this,t);return n.a.push(e),n},le=function(e,t){let n=me(this,t);if(c===typeof e){let t=e;t.gubu$=t.gubu$||{},t.gubu$.Check=!0,n.b.push(e),n.s=(null==n.s?i:n.s+";")+xe(e,null,!0),n.r=!0}else if(h===typeof e){if(Object.prototype.toString.call(e).includes("RegExp")){let t=t=>null!=t&&!Number.isNaN(t)&&!!String(t).match(e);O(t,u,{value:String(e)}),O(t,"gubu$",{value:{Check:!0}}),n.b.push(t),n.s=xe(e),n.r=!0}}else d===typeof e&&(n.t=e,n.r=!0);return n},re=function(e){let t=me(this,e);return t.c=W(),t},oe=function(e){let t=me(this,e);return p===t.t&&r!==t.c&&0===t.n?(t.v=[t.c],t.c=r):t.c=r,t},ie=function(e,t){let n=me(this,t),l=d===typeof e?e:(h===typeof e&&e||{}).name;return null!=l&&i!=l&&n.b.push((function(e,t,n){return(n.ctx.ref=n.ctx.ref||{})[l]=n.node,!0})),n},ue=function(e,t){let n=me(this,t),l=h===typeof e&&e||{},r=d===typeof e?e:l.name,o=!!l.fill;return null!=r&&i!=r&&n.b.push((function(e,t,n){if(void 0!==e||o){let e=n.ctx.ref=n.ctx.ref||{};if(void 0!==e[r]){let n={...e[r]};n.t=n.t||s,t.node=n,t.type=n.t}}return!0})),n},se=function(e,t){let n=me(this,t),l=h===typeof e&&e||{},r=d===typeof e?e:l.name,o="boolean"==typeof l.keep?l.keep:void 0,s=R(l.claim)?l.claim:[];if(null!=r&&i!=r){let e=(e,t,n)=>{if(void 0===e&&0<s.length){n.ctx.Rename=n.ctx.Rename||{},n.ctx.Rename.fromDefault=n.ctx.Rename.fromDefault||{};for(let e of s){let l=n.ctx.Rename.fromDefault[e]||{};if(void 0!==n.parent[e]&&!l.yes){t.val=n.parent[e],n.match||(n.parent[r]=t.val),t.node=l.node;for(let e=0;e<n.err.length;e++)n.err[e].k===l.key&&(n.err.splice(e,1),e--);if(o){let t=n.cI+1;n.nodes.splice(t,0,T(l.dval)),n.vals.splice(t,0,void 0),n.parents.splice(t,0,n.parent),n.keys.splice(t,0,e),n.nI++,n.pI++}else delete n.parent[e];break}}void 0===t.val&&(t.val=n.node.v)}return!0};O(e,u,{value:"Rename:"+r}),n.b.push(e);let t=(e,t,n)=>(n.parent[r]=e,n.match||o||n.key===r||R(n.parent)&&!1!==o||(delete n.parent[n.key],t.done=!0),n.ctx.Rename=n.ctx.Rename||{},n.ctx.Rename.fromDefault=n.ctx.Rename.fromDefault||{},n.ctx.Rename.fromDefault[r]={yes:n.fromDefault,key:n.key,dval:n.node.v,node:n.node},!0);O(t,u,{value:"Rename:"+r}),n.a.push(t)}return n};function ae(e){return a===typeof e?e:a===typeof(null==e?void 0:e.length)?e.length:null!=e&&h===typeof e?N(e).length:NaN}function fe(e,t){let n=String(e),l=null==t||isNaN(t)?30:t<0?0:~~t,r=null==e?0:n.length,o=null==e?i:n.substring(0,r);return(o=l<r?o.substring(0,l-3)+"...":o).substring(0,l)}const pe=function(e,t){let n=me(this,t);return n.b.push((function(t,n,l){let r=ae(t);if(e<=r)return!0;let o=a===typeof t?i:"length ";return n.err=ge(l,`Value "$VALUE" for property "$PATH" must be a minimum ${o}of ${e} (was ${r}).`),!1})),n.s="Min("+e+(null==t?i:","+xe(t))+")",n},ce=function(e,t){let n=me(this,t);return n.b.push((function(t,n,l){let r=ae(t);if(r<=e)return!0;let o=a===typeof t?i:"length ";return n.err=ge(l,`Value "$VALUE" for property "$PATH" must be a maximum ${o}of ${e} (was ${r}).`),!1})),n.s="Max("+e+(null==t?i:","+xe(t))+")",n},he=function(e,t){let n=me(this,t);return n.b.push((function(t,n,l){let r=ae(t);if(e<r)return!0;let o=a===typeof t?"be":"have length";return n.err=ge(l,`Value "$VALUE" for property "$PATH" must ${o} above ${e} (was ${r}).`),!1})),n.s=x+"("+e+(null==t?i:","+xe(t))+")",n},de=function(e,t){let n=me(this,t);return n.b.push((function(t,n,l){let r=ae(t);if(r<e)return!0;let o=a===typeof t?"be":"have length";return n.err=ge(l,`Value "$VALUE" for property "$PATH" must ${o} below ${e} (was ${r}).`),!1})),n.s=G+"("+e+(null==t?i:","+xe(t))+")",n},ve=function(e,t){let n=me(this,t||W());return n.b.push((function(t,n,l){let r=ae(t);if(e===r)return!0;let o=a===typeof t?i:" in length";return n.err=ge(l,`Value "$VALUE" for property "$PATH" must be exactly ${e}${o} (was ${r}).`),!1})),n.s="Len("+e+(null==t?i:","+xe(t))+")",n},ye=function(e,t){let n=me(null==t?this:t),l=T(e);return n.c=l,n},be=function(e){let t=me(this,{});return t.c=T(e),t};function me(e,t){let n=T(null==e||e.window===e||e.global===e?t:e);return Object.assign(n,{Above:he,After:ne,Any:W,Before:te,Below:de,Check:le,Child:be,Closed:oe,Open:re,Define:ie,Empty:K,Exact:ee,Max:ce,Min:pe,Never:z,Len:ve,Refer:ue,Rename:se,Required:_,Skip:H,Value:ye})}function ge(e,t,n,l){return $e(n||"check",e,4e3,t,l)}function $e(e,t,n,l,r,o){let u={k:t.key,n:t.node,v:t.val,p:U(t),w:e,m:n,t:i,u:r||{}},a=fe((void 0===t.val?i:xe(t.val)).replace(/"/g,i));if(null==l||i===l){let n=a.startsWith("[")?p:a.startsWith("{")?h:"value",l=a.startsWith("[")||R(t.parents[t.pI])?"index":"property",c="is",d=null==r?void 0:r.k;d=R(d)?(l=1<d.length?(c="are","properties"):l,d.join(", ")):d,u.t="Validation failed for "+(0<u.p.length?`${l} "${u.p}" with `:i)+`${n} "${a}" because `+($===e?m===t.node.t?`the ${n} is not an instance of ${t.node.u.n} `:`the ${n} is not of type ${t.node.t}`:f===e?i===t.val?"an empty string is not allowed":`the ${n} is required`:"closed"===e?`the ${l} "${d}" ${c} not allowed`:s===e?"no value is allowed":`check "${null==o?e:o}" failed`)+(u.u.thrown?" (threw: "+u.u.thrown.message+")":".")}else u.t=l.replace(/\$VALUE/g,a).replace(/\$PATH/g,u.p);return u}function Ie(e){return null!=e.s&&i!==e.s?e.s:e.r||void 0===e.v?e.t:e.v}function xe(e,t,l,r){let o;r||!e||!e.$||n!==e.$.gubu$&&!0!==e.$.gubu$||(e=Ie(e));try{o=j(e,(e,l)=>{var o,u;if(t&&(l=t(e,l)),null!=l&&h===typeof l&&l.constructor&&I!==l.constructor.name&&"Array"!==l.constructor.name)l=c===typeof l.toString?l.toString():l.constructor.name;else if(c===typeof l)l=c===typeof P[l.name]&&isNaN(+e)?void 0:null!=l.name&&i!==l.name?l.name:fe(l.toString().replace(/[ \t\r\n]+/g," "));else if("bigint"==typeof l)l=String(l.toString());else{if(Number.isNaN(l))return"NaN";!0===r||!0!==(null===(o=null==l?void 0:l.$)||void 0===o?void 0:o.gubu$)&&n!==(null===(u=null==l?void 0:l.$)||void 0===u?void 0:u.gubu$)||(l=Ie(l))}return l}),o=String(o)}catch(u){o=j(String(e))}return!0===l&&(o=o.replace(/^"/,i).replace(/"$/,i)),o}function Ge(e){return null==e||h!==typeof e?e:D(j(e))}if(v!==typeof window){let e=[{b:he,n:x},{b:ne,n:"After"},{b:Q,n:"All"},{b:W,n:"Any"},{b:te,n:"Before"},{b:de,n:G},{b:le,n:"Check"},{b:be,n:"Child"},{b:oe,n:"Closed"},{b:ie,n:"Define"},{b:F,n:"Default"},{b:K,n:"Empty"},{b:ee,n:"Exact"},{b:J,n:"Func"},{b:Z,n:"Key"},{b:ce,n:"Max"},{b:pe,n:"Min"},{b:z,n:"Never"},{b:ve,n:"Len"},{b:Y,n:"One"},{b:re,n:"Open"},{b:q,n:"Optional"},{b:ue,n:"Refer"},{b:se,n:"Rename"},{b:_,n:"Required"},{b:H,n:"Skip"},{b:X,n:k},{b:ye,n:w}];for(let t of e)O(t.b,u,{value:t.n})}Object.assign(P,{Gubu:P,Above:he,After:ne,All:Q,Any:W,Before:te,Below:de,Check:le,Child:be,Closed:oe,Define:ie,Default:F,Empty:K,Exact:ee,Func:J,Key:Z,Max:ce,Min:pe,Never:z,Len:ve,One:Y,Open:re,Optional:q,Refer:ue,Rename:se,Required:_,Skip:H,Some:X,Value:ye,GAbove:he,GAfter:ne,GAll:Q,GAny:W,GBefore:te,GBelow:de,GCheck:le,GChild:be,GClosed:oe,GDefine:ie,GDefault:F,GEmpty:K,GExact:ee,GFunc:J,GKey:Z,GMax:ce,GMin:pe,GNever:z,GLen:ve,GOne:Y,GOpen:re,GOptional:q,GRefer:ue,GRename:se,GRequired:_,GSkip:H,GSome:X,GValue:ye,G$:e=>T({...e,$:{gubu$:!0}}),buildize:me,makeErr:ge,stringify:xe,truncate:fe,nodize:T,isShape:e=>e&&l===e.gubu}),O(P,u,{value:"gubu"});const ke=P;t.Gubu=ke;const{Gubu:we}=t;return we}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),e=e.exports;var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.MarkerMap=t.GeneratorMap=t.GubuGen=void 0,t.MarkerMap={md:["\x3c!--","--\x3e"]};t.GeneratorMap={"options~md":function(e,t){var n;t.start(),t.add("## Options");let l=[];e(void 0,{err:!1,log:(e,t)=>{if("kv"===e){let e=t.path.slice(1,t.dI+1),n=e.join("."),r=t.node,o=t.key;l.push({path:n,parts:e,node:r,key:o})}}}),l=l.sort((e,t)=>e.path<t.path?-1:e.path>t.path?1:0);let r=1;for(let o of l){let{path:e,parts:l,node:i,key:u}=o,s=i.t,a=i.r,f=i.v,p=(null===(n=i.m)||void 0===n?void 0:n.short)||u,c=l[l.length-1];for(;r<l.length;)t.add(`* _${l[r-1]}_`),t.depth(1),r++;for(;l.length<r;)t.depth(-1),r--;t.add(`* _${c}_: \`${s}\` ${a?"(required)":"(default: "+f+")"} - ${p}`)}}},t.GubuGen=class{constructor(){}generate(e){console.log("GUBUGEN:",e)}};var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.JsonicDoc=void 0;class l{constructor(n){console.log("JSONICDOC spec",n);const l=require(n.folder);let r=l[n.name];null==r&&(r=l[n.name[0].toUpperCase()+n.name.substring(1)]);const o=r.defaults,i=(0,e.Gubu)(o);(new t.GubuGen).generate({shape:i})}}return n.JsonicDoc=l,l.defaults={folder:"",name:""},n}));